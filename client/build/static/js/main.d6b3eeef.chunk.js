(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,n,t){},56:function(e,n,t){},58:function(e,n,t){},64:function(e,n,t){},65:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t(1),r=t.n(c),s=t(31),o=t.n(s),i=(t(38),t(16)),l=t(2),u=t(9),j=t.n(u),d=(t(56),t(8)),b=t.n(d),x=t(11),p=t(12);t(58);function f(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("a",{onClick:function(){e.onCancel()},className:"navbar-brand navbar-brand-text",href:e.to,children:e.name})})}function h(e){var n=Object(l.f)({path:e.to,exact:e.activeOnlyWhenExact});return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("a",{onClick:function(){e.onCancel()},className:n?"nav-link active":"nav-link",href:e.to,children:e.name})})}var m=function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("nav",{className:"navbar fixed-top navbar-expand-lg navbar-light bg-light py-3",children:[Object(a.jsx)(f,{onCancel:e.onCancel,name:"West Side Street Clothing",to:"/",activeOnlyWhenExact:!0}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsx)("div",{className:"collapse navbar-collapse navbar-center navbar-text",id:"navbarNavAltMarkup",children:Object(a.jsx)(i.a,{children:Object(a.jsxs)("div",{className:"navbar-nav",children:[Object(a.jsx)(h,{onCancel:e.onCancel,name:"Gloves",to:"/gloves",activeOnlyWhenExact:!0}),Object(a.jsx)(h,{onCancel:e.onCancel,name:"Facemasks",to:"/facemasks",activeOnlyWhenExact:!0}),Object(a.jsx)(h,{onCancel:e.onCancel,name:"Beanies",to:"/beanies",activeOnlyWhenExact:!0})]})})})]})})};var O=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m,{}),Object(a.jsx)("h1",{style:{paddingTop:"7rem"},children:"Select a category above to see the product listing"})]})},v=t(21);t(64);var g=function(e){var n=e.name,t=e.colors,c=e.price,r=e.manufact,s=e.inStock;return Object(a.jsx)("div",{className:"col-md-4",children:Object(a.jsxs)("div",{className:"card mb-4 shadow-sm",children:[Object(a.jsx)("h2",{className:"product-name",children:n}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("p",{className:"product-text",children:r}),Object(a.jsxs)("div",{className:"d-flex justify-content-start align-items-center",children:[Object(a.jsx)("p",{className:"product-text",children:"Colors:"}),t&&t.map((function(e){return"white"===e||"yellow"===e?Object(a.jsx)("p",{className:"product-text",children:e}):Object(a.jsx)("p",{className:"product-text",style:{color:e},children:e})}))]}),Object(a.jsxs)("p",{className:"product-text",children:["Price: ",c,"\u20ac"]}),Object(a.jsxs)("p",{className:"product-text",children:["Availability: ",s]})]})]})})};function k(e,n,t){var a=t.find((function(n){return n.manufacturer===e}));return a&&a.data?a.data.response?a.data.response.find((function(e){return e.id.toLowerCase()===n})).inStock:"Error":"Loading.."}var N=function(e){var n=Object(c.useState)(),t=Object(p.a)(n,2),r=t[0],s=t[1],o=Object(c.useState)(),i=Object(p.a)(o,2),l=i[0],u=i[1],d=Object(c.useState)([]),f=Object(p.a)(d,2),h=f[0],m=f[1],O=Object(v.a)(Array(10)).map((function(){return Object(a.jsx)(g,{name:"Loading..."})}));return Object(c.useEffect)((function(){(function(){var n=Object(x.a)(b.a.mark((function n(){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,j()("/api/products/".concat(e.product),{cancelToken:e.source.token}).catch((function(e){j.a.isCancel(e)?console.log("axios request cancelled",e):console.log(e)}));case 3:t=n.sent,s(t.data),u(t.data.filter((function(e,n,t){return n===t.findIndex((function(n){return n.manufacturer===e.manufacturer}))})).map((function(e){return e.manufacturer}))),console.log(t),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}})()()}),[]),console.log("uniqueManufact",l),Object(c.useEffect)((function(){var n=function(){var n=Object(x.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{l.forEach(function(){var n=Object(x.a)(b.a.mark((function n(t){var a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("quering for",t),n.next=3,j()("/api/availability/".concat(t),{cancelToken:e.source.token}).catch((function(e){j.a.isCancel(e)?console.log("axios request cancelled",e):console.log(e)}));case 3:a=n.sent,m((function(e){return[].concat(Object(v.a)(e),[{manufacturer:t,data:a.data}])}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}catch(t){console.log(t)}case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();l&&n()}),[l]),console.log("availability:",h),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"products container",children:Object(a.jsx)("div",{className:"row",children:r?r.map((function(e){return Object(a.jsx)(g,{name:e.name,inStock:k(e.manufacturer,e.id,h),colors:e.color,price:e.price,manufact:e.manufacturer})})):O.map((function(e){return Object(a.jsx)(g,{name:e.props.name})}))})})})},y=j.a.CancelToken.source();function C(){console.log("Attempting to cancel"),y.cancel("canceled")}var w=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(m,{onCancel:C}),Object(a.jsx)(i.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",children:Object(a.jsx)(O,{})}),Object(a.jsx)(l.a,{exact:!0,path:"/gloves",children:Object(a.jsx)(N,{product:"gloves",source:y})}),Object(a.jsx)(l.a,{exact:!0,path:"/facemasks",children:Object(a.jsx)(N,{product:"facemasks",source:y})}),Object(a.jsx)(l.a,{exact:!0,path:"/beanies",children:Object(a.jsx)(N,{product:"beanies",source:y})})]})})]})};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.d6b3eeef.chunk.js.map