{"version":3,"sources":["components/Header.jsx","components/Home.jsx","components/ProductCard.jsx","components/Products.jsx","components/App.jsx","index.js"],"names":["NavBrand","props","onClick","onCancel","className","href","to","name","NavLink","match","useRouteMatch","path","exact","activeOnlyWhenExact","Header","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","Home","style","paddingTop","ProductCard","colors","price","manufact","inStock","map","color","getProductAvailability","manufacturer","availability","find","el","data","response","toLowerCase","Products","useState","productData","setProductData","uniqueManufact","setUniqueManufact","setAvailability","loading","Array","useEffect","a","axios","product","cancelToken","source","token","catch","err","isCancel","console","log","result","filter","i","self","findIndex","t","fetchData","forEach","prevData","error","CancelToken","handleCancelRequest","cancel","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d6b3eeef.chunk.js","sourcesContent":["import React from 'react';\nimport {\n\tBrowserRouter as Router,\n\tuseRouteMatch\n  } from \"react-router-dom\";\nimport './Header.css';\n\nfunction Header(props) {\n\treturn (\n\t<>\n\t\t<nav className=\"navbar fixed-top navbar-expand-lg navbar-light bg-light py-3\">\n\t\t\t{/* <a className=\"navbar-brand navbar-brand-text\" href=\"/\">West Side Street Clothing</a> */}\n\t\t\t<NavBrand onCancel={props.onCancel} name=\"West Side Street Clothing\" to=\"/\" activeOnlyWhenExact={true} />\n\t\t\t<button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\n\t\t\t</button>\n\t\t\t<div className=\"collapse navbar-collapse navbar-center navbar-text\" id=\"navbarNavAltMarkup\">\n\t\t\t\t<Router>\n\t\t\t\t\t<div className=\"navbar-nav\">\n\t\t\t\t\t\t<NavLink onCancel={props.onCancel} name=\"Gloves\" to=\"/gloves\" activeOnlyWhenExact={true} />\n\t\t\t\t\t\t<NavLink onCancel={props.onCancel} name=\"Facemasks\" to=\"/facemasks\" activeOnlyWhenExact={true} />\n\t\t\t\t\t\t<NavLink onCancel={props.onCancel} name=\"Beanies\" to=\"/beanies\" activeOnlyWhenExact={true} />\n\t\t\t\t\t</div>\n\t\t\t\t</Router>\n\t\t\t</div>\n\t\t</nav>\n\t</>);\n}\n\nfunction NavBrand(props) {\n\tfunction newCancelReq() {\n\t\tprops.onCancel();\n\t}\n\treturn (<>\n\t\t<a onClick={newCancelReq} className=\"navbar-brand navbar-brand-text\" href={props.to}>{props.name}</a>\n\t</>);\n}\n\nfunction NavLink(props) {\n\tlet match = useRouteMatch({\n\t\tpath: props.to,\n\t\texact: props.activeOnlyWhenExact\n\t});\n\tfunction newCancelReq() {\n\t\tprops.onCancel();\n\t}\n\treturn (<>\n\t\t<a onClick={newCancelReq} className={match ? \"nav-link active\" : \"nav-link\"} href={props.to}>{props.name}</a>\n\t</>);\n}\n\nexport default Header;","import React from 'react';\nimport Header from './Header';\n\nfunction Home() {\n\treturn (<>\n\t\t<Header />\n\t\t<h1 style={{paddingTop: \"7rem\"}}>Select a category above to see the product listing</h1>\n\t</>);\n}\n\nexport default Home;","import React from 'react';\n\nfunction ProductCard({ name, colors, price, manufact, inStock }) {\n\treturn (\n\t<div className=\"col-md-4\">\n\t\t<div className=\"card mb-4 shadow-sm\">\n\t\t\t<h2 className=\"product-name\">{name}</h2>\n\t\t\t<div className=\"card-body\">\n\t\t\t\t<p className=\"product-text\">{manufact}</p>\n\t\t\t\t<div className=\"d-flex justify-content-start align-items-center\">\n\t\t\t\t\t<p className=\"product-text\">Colors:</p>\n\t\t\t\t\t{colors && colors.map(color => {\n\t\t\t\t\t\treturn (color === \"white\" || color === \"yellow\" \n\t\t\t\t\t\t? <p className=\"product-text\">{color}</p>\n\t\t\t\t\t\t: <p className=\"product-text\" style={{color: color}}>{color}</p>);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t<p className=\"product-text\">Price: {price}â‚¬</p>\n\t\t\t\t<p className=\"product-text\">Availability: {inStock}</p>\n\t\t\t</div>\n\t\t</div>\n\t</div>);\n}\n\nexport default ProductCard;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './Products.css';\nimport ProductCard from './ProductCard';\nimport Header from './Header';\n\nfunction Products(props) {\n\tconst [productData, setProductData] = useState();\n\tconst [uniqueManufact, setUniqueManufact] = useState();\n\tconst [availability, setAvailability] = useState([]);\n\t// const [cancelRequest, setCancelRequest] = useState(false);\n\n\tlet loading = [...Array(10)].map(() => (\n\t\t<ProductCard name=\"Loading...\" />\n\t));\n\n\tuseEffect(() => {\n\t\tconst fetchData = async () => {\n\t\t\ttry {\n\t\t\t\tconst result = await axios(`/api/products/${props.product}`, {\n\t\t\t\t\tcancelToken: props.source.token\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tif (axios.isCancel(err)) {\n\t\t\t\t\t\tconsole.log(\"axios request cancelled\", err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tsetProductData(result.data);\n\t\t\t\tsetUniqueManufact(result.data.filter((el, i, self) => \n\t\t\t\t\ti === self.findIndex((t) => (\n\t\t\t\t\t\tt.manufacturer === el.manufacturer\n\t\t\t\t\t))\n\t\t\t\t).map(el => el.manufacturer));\n\t\t\t\tconsole.log(result);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t};\n\t\tfetchData();\n\t}, []);\n\n\tconsole.log(\"uniqueManufact\", uniqueManufact);\n\n\tuseEffect(() => {\n\t\tconst fetchData = async () => {\n\t\t\ttry {\n\t\t\t\tuniqueManufact.forEach(async manufact => {\n\t\t\t\t\tconsole.log(\"quering for\", manufact);\n\t\t\t\t\tconst result = await axios(`/api/availability/${manufact}`, {\n\t\t\t\t\t\tcancelToken: props.source.token\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tif (axios.isCancel(err)) {\n\t\t\t\t\t\t\tconsole.log(\"axios request cancelled\", err);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tsetAvailability(prevData => {\n\t\t\t\t\t\treturn ([...prevData, {manufacturer: manufact, data: result.data}])\n\t\t\t\t\t});\n\t\t\t\t\t// console.log(\"availability:\", result.data);\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t};\n\t\tif (uniqueManufact) {\n\t\t\tfetchData();\n\t\t}\n\t}, [uniqueManufact]);\n\n\tconsole.log(\"availability:\", availability);\n\n\treturn (<>\n\t<div className=\"products container\">\n\t\t<div className=\"row\">\n\t\t\t{!productData\n\t\t\t? loading.map(el => {\n\t\t\t\treturn (<ProductCard name={el.props.name} />);\n\t\t\t})\n\t\t\t: productData.map(product => {\n\t\t\t\treturn (<ProductCard name={product.name} inStock={getProductAvailability(product.manufacturer, product.id, availability)} colors={product.color} price={product.price} manufact={product.manufacturer} />);\n\t\t\t})}\n\t\t</div>\n\t</div></>);\n}\n\nfunction getProductAvailability(manufacturer, id, availability) {\n\t// console.log(\"getProductAvailability\", id);\n\tconst manufact = availability.find(el => el.manufacturer === manufacturer);\n\tif (manufact && manufact.data) {\n\t\t// console.log(\"manufact:\", manufact.manufacturer);\n\t\tif (manufact.data.response) {\n\t\t\t// console.log(\"manufact.data.response[0].id:\", manufact.data.response[0].id);\n\t\t\t// var ok = manufact.data.response.find(el => {\n\t\t\t// \t// console.log(`el.id: ${el.id}, id: ${id}`);\n\t\t\t// \treturn (el.id.toLowerCase() == id);\n\t\t\t// })\n\t\t\t// // console.log(\"manufact.data.response.find(el => el.id === id):\", ok);\n\t\t\t// if (ok) {\n\t\t\t// \tconsole.log(\"FOUND:\", ok);\n\t\t\t// \tconsole.log(`id: ${id}, manufact: ${manufact.manufacturer}`);\n\t\t\t// }\n\t\t\t// return (\"In stock\");\n\t\t\treturn (manufact.data.response.find(el => el.id.toLowerCase() === id).inStock);\n\t\t} else {\n\t\t\treturn (\"Error\");\n\t\t}\n\t} else {\n\t\treturn (\"Loading..\");\n\t}\n}\n\nexport default Products;","import {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRoute\n  } from \"react-router-dom\";\nimport axios from 'axios';\nimport './App.css';\nimport Request from './Request';\nimport Header from './Header';\nimport Home from './Home';\nimport Products from './Products';\n\nconst axiosCancelToken = axios.CancelToken;\nconst source = axiosCancelToken.source();\n\nfunction handleCancelRequest() {\n\tconsole.log(\"Attempting to cancel\");\n\tsource.cancel('canceled');\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n\t\t<Header onCancel={handleCancelRequest} />\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t<Home />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/gloves\">\n\t\t\t\t\t<Products product=\"gloves\" source={source} />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/facemasks\">\n\t\t\t\t\t<Products product=\"facemasks\" source={source} />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/beanies\">\n\t\t\t\t\t<Products product=\"beanies\" source={source} />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}